import{s as h,c as l,a as t,F as p,m as _,A as x,r as f,o as n,t as o}from"./index-CRnbJmNt.js";const u={class:"p-8 bg-slate-50 min-h-screen"},m={class:"max-w-7xl mx-auto"},g={class:"bg-white rounded-3xl shadow-sm overflow-hidden border border-slate-200"},v={class:"w-full text-left border-collapse"},w={class:"p-4 text-slate-700"},y={class:"p-4 font-bold text-slate-800"},D={class:"p-4"},A={class:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold"},L={class:"p-4 text-slate-700"},S={class:"p-4 text-slate-700"},k={class:"p-4 text-slate-500 text-sm"},B={class:"p-4 font-bold text-red-500"},I={__name:"AdminView",setup($){const c=`${x}/api/admin/records`,d=f([]),r=async()=>{try{const a=await(await fetch(c)).json();console.log("Data successfully loaded:",a),d.value=a}catch(e){console.error("Error fetching admin data:",e)}},i=e=>new Date(e).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"}),b=e=>{if(e<60)return`${e}m`;const a=Math.floor(e/60),s=e%60;return`${a}h ${s}m`};return h(r),(e,a)=>(n(),l("div",u,[t("div",m,[t("div",{class:"flex justify-between items-center mb-8"},[a[0]||(a[0]=t("h1",{class:"text-3xl font-bold text-slate-800"},"Attendance Admin Dashboard",-1)),t("button",{onClick:r,class:"bg-[#84a96b] text-white px-4 py-2 rounded-lg font-bold"},"Refresh Data")]),t("div",g,[t("table",v,[a[1]||(a[1]=t("thead",{class:"bg-slate-50 border-b border-slate-200"},[t("tr",null,[t("th",{class:"p-4 font-bold text-slate-600"},"ID"),t("th",{class:"p-4 font-bold text-slate-600"},"Name"),t("th",{class:"p-4 font-bold text-slate-600"},"Level"),t("th",{class:"p-4 font-bold text-slate-600"},"Grade/Group"),t("th",{class:"p-4 font-bold text-slate-600"},"Ship"),t("th",{class:"p-4 font-bold text-slate-600"},"Date/Time"),t("th",{class:"p-4 font-bold text-slate-600"},"Late (Mins)")])],-1)),t("tbody",null,[(n(!0),l(p,null,_(d.value,s=>(n(),l("tr",{key:s.id,class:"border-b border-slate-50 hover:bg-slate-50/50"},[t("td",w,o(s.student_id),1),t("td",y,o(s.name),1),t("td",D,[t("span",A,o(s.level),1)]),t("td",L,o(s.grade)+o(s.class_group),1),t("td",S,o(s.ship),1),t("td",k,o(i(s.date)),1),t("td",B,o(b(s.total_lateness))+"m",1)]))),128))])])])])]))}};export{I as default};
